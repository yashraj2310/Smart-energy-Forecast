<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Smart Energy Dashboard âš¡</title>

  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <meta name="theme-color" content="#0d6efd" />
</head>
<body>
  <header>
    <div class="header-inner">
      <h1>âš¡ Smart Energy Forecast Dashboard</h1>
      <p class="subtitle">AI-powered insights for efficient energy use</p>
    </div>
  </header>

  <main class="container">

    <!-- Overview + Alerts
    <section id="summary" class="card">
      <div class="card-head"><h2>âš™ï¸ Energy Overview</h2></div>
      <div id="alerts" class="alerts"></div>
    </section> -->

    <!-- Two-column row: Usage (left) + Forecast (right) -->
    <section class="card row" id="charts-row">
      <div class="col col-6">
        <h3>ğŸ“ˆ Forecasted Power Usage</h3>
        <canvas id="usageChart" aria-label="Usage chart"></canvas>
      </div>

      <div class="col col-6">
        <h3>ğŸ”® Optimised Forecast Power</h3>
        <canvas id="forecastChart" aria-label="Forecast chart"></canvas>
      </div>
    </section>

    <!-- Weekly & Cost in a row -->
    <section class="card row">
      <div class="col col-6">
        <h3>ğŸ“Š Weekly Daily Average</h3>
        <canvas id="weeklyChart"></canvas>
      </div>

      <div class="col col-6">
        <h3>ğŸ’° Energy Cost Analysis</h3>
        <div id="costSummary" class="summary-box"></div>
        <canvas id="costChart"></canvas>
      </div>
    </section>

    <!-- COâ‚‚ + AI Tip row -->
    <section class="card row">
      <div class="col col-6">
        <h3>ğŸŒ¿ COâ‚‚ Emission Tracker</h3>
        <div id="emissionSummary" class="summary-box"></div>
        <canvas id="emissionChart"></canvas>
      </div>

      <div class="col col-6">
        <h3>ğŸ§  AI Smart Energy Tip</h3>
        <div id="aiTip" class="ai-tip">Loading tip...</div>

        <h3 style="margin-top: 1.2rem;">ğŸ¤– AI Demand Forecast & Smart Dispatch</h3>
        <div id="forecast-summary" class="forecast-card">
          <p>Loading latest forecast...</p>
        </div>
      </div>
    </section>

    <!-- Monthly bill predictor -->
    <section id="monthlyBillSection" class="card">
      <div class="card-head"><h2>ğŸ“… Monthly Bill Predictor</h2></div>
      <div id="monthly-bill-loading">Loading monthly billâ€¦</div>
      <div id="monthly-bill-result" style="display:none;" class="monthly-result">
        <p><strong>Month:</strong> <span id="bill-month"></span></p>
        <p><strong>Total Usage:</strong> <span id="bill-usage"></span> kWh</p>
        <p><strong>Total Cost:</strong> â‚¹ <span id="bill-cost"></span></p>
      </div>
      <canvas id="monthlyBillChart"></canvas>
    </section>

    <!-- Chat / RAG assistant -->
    <section id="chatSection" class="card">
      <div class="card-head"><h2>ğŸ’¬ Ask the Dashboard </h2></div>

      <div id="chatBox" class="chat-box" aria-live="polite"></div>

      <div id="controls" class="chat-controls">
        <input id="userQuery" placeholder="Ask about usage, forecast or bills (e.g. 'why cost increased?')" />
       
        <button id="sendBtn">Send</button>
      </div>
      <div id="chatError" class="error" style="display:none"></div>
    </section>

  </main>

  <footer>
    <p>Smart Energy Optimization â€” Powered by <b>FastAPI</b> + <b>XGBoost</b> + <b>Chart.js</b></p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
